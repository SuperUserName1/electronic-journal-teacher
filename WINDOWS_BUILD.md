# Сборка Windows EXE файла

## Рекомендуемый способ: GitHub Actions (самый надежный)

Приложение уже настроено для автоматической сборки Windows версии через GitHub Actions.

### Как собрать через GitHub Actions:

1. **Запуск вручную (workflow_dispatch):**
   - Перейдите в раздел "Actions" в вашем GitHub репозитории
   - Выберите workflow "Build Windows Release"
   - Нажмите "Run workflow" и выберите ветку
   - После завершения сборки скачайте артефакты

2. **Автоматический запуск при создании тега:**
   ```bash
   git tag v1.0.0
   git push origin v1.0.0
   ```
   GitHub Actions автоматически соберет Windows версию и создаст релиз.

### Результат сборки:

В артефактах вы найдете два файла:
- **Установщик**: `ЭЖП: Электронный Журнал Преподавателя-Setup-1.0.0.exe`
- **Портативная версия**: `ЭЖП: Электронный Журнал Преподавателя-Portable-1.0.0.exe`

## Локальная сборка на Linux

Локальная сборка Windows EXE на Linux имеет ограничения из-за необходимости компиляции нативных модулей (sqlite3) для Windows. 

### Вариант 1: Использование готовых бинарников

Если у вас есть доступ к Windows машине или виртуальной машине, рекомендуется собирать там.

### Вариант 2: Использование Wine (экспериментально)

Требуется установка дополнительных инструментов и настройка окружения для сборки нативных модулей через Wine. Это сложный процесс, который не гарантирует работоспособность.

### Альтернатива: Docker

Можно использовать Docker с Windows-образом, но это также требует дополнительной настройки.

## Команды для сборки

После настройки окружения используйте:

### Только установщик:
```bash
npm run build
npm run package-win-installer
```

### Только портативная версия:
```bash
npm run build
npm run package-win-portable
```

### Оба варианта:
```bash
npm run build
npm run package-win
```

## Рекомендация

**Используйте GitHub Actions** - это самый простой и надежный способ получить Windows EXE файл. Все необходимые инструменты и зависимости уже настроены в workflow.

